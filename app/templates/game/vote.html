{# templates/game/vote.html #}
<div class="bg-white/70 backdrop-blur-md p-6 rounded-lg shadow-sm">
  <h3 class="text-2xl font-bold mb-6">投票</h3>
  <div class="space-y-6">
    <div class="grid grid-cols-2 gap-8">
      <div>
        <label for="vote1" class="block text-sm font-medium text-gray-700 mb-2">1人目の投票先</label>
        <select id="vote1" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <option value="">選択してください</option>
          {% for player in room.players %}
            <option value="{{ player.user_id }}">{{ player.nickname }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label for="vote2" class="block text-sm font-medium text-gray-700 mb-2">2人目の投票先</label>
        <select id="vote2" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
          <option value="">選択してください</option>
          {% for player in room.players %}
            <option value="{{ player.user_id }}">{{ player.nickname }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="flex justify-end">
      <button 
        onclick="submitVote()"
        class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors text-lg"
      >
        投票する
      </button>
    </div>
  </div>
</div>

<script>
function submitVote() {
  const vote1 = document.getElementById('vote1').value;
  const vote2 = document.getElementById('vote2').value;

  if (!vote1 || !vote2) {
    alert('両方の投票先を選択してください');
    return;
  }

  if (vote1 === vote2) {
    alert('同じプレイヤーに投票することはできません');
    return;
  }

  socket.emit('submit_vote', {
    room_id: roomId,
    vote1: vote1,
    vote2: vote2
  });
}
</script> 